var isArchivePage=typeof is_archive!="undefined"&&is_archive===true;var isQiymetleriDirectory=typeof is_qiymetleri_dir!="undefined"&&is_qiymetleri_dir===true;if(isArchivePage){var isRootUrl=categoryRootUrl==window.location.href;$(document).ready(function(){var selectedFilters=[];jQuery.each(brands,function(index,ID){var optionElement=$('.brands .option[data-id="'+ID+'"]');if(optionElement.length>0){optionElement.find(".checkbox").prop("checked",true);selectedFilters.push(optionElement)}});jQuery.each(specs,function(index,ID){var optionElement=$('.specs .option[data-id="'+ID+'"]');if(optionElement.length>0){optionElement.find(".checkbox").prop("checked",true);selectedFilters.push(optionElement)}});var pricesSliderElement=$(".filter.prices .slider");var pricesSlider=pricesSliderElement[0];var currency="AZN";if(pricesSliderElement.length>0){var minPossiblePrice=parseInt(pricesSliderElement.attr("data-min"));var maxPossiblePrice=parseInt(pricesSliderElement.attr("data-max"));noUiSlider.create(pricesSlider,{start:[minPrice,maxPrice],connect:true,tooltips:true,range:{min:minPossiblePrice,max:maxPossiblePrice},format:{to:function(value){return parseInt(value)+" "+currency},from:function(value){return parseInt(value.replace(" "+currency,""))}}})}$(".filter-search input").keyup(function(){var search=$(this).val();var options=$(this).closest(".filter").find(".option");options.hide();options.filter(function(){return $(this).text().toUpperCase().indexOf(search.toUpperCase())>-1}).show()});if(sort!=""){$(".sort .button[data-value='"+sort+"']").addClass("active")}var selectedFiltersDiv=$('<div class="selected-filters"></div>').appendTo($("#selected-filters"));$.each(selectedFilters,function(){var filter=$(this).closest(".filter");var filterGroup=filter.attr("data-group");var filterHeader=filter.find(".filter-header-title").text();var optionText=$(this).find(".option-text").text();var optionID=$(this).attr("data-id");var selectedFilterDiv=$('<div class="selected-filter"></div>').appendTo(selectedFiltersDiv);selectedFilterDiv.append($('<span class="clear"></span>'));selectedFilterDiv.append($('<div class="filter-header"></div>').text(filterHeader));selectedFilterDiv.append($('<div class="option-text"></div>').text(optionText));selectedFilterDiv.attr("data-id",optionID);selectedFilterDiv.attr("data-group",filterGroup)});if(selectedFilters.length>0){$("#selected-filters").removeClass("empty")}$(document).on("click","#selected-filters .selected-filter",function(event){var filterGroup=$(this).attr("data-group");var optionID=$(this).attr("data-id");$("#"+filterGroup+"-option-"+optionID).prop("checked",false);loadResults()});if(typeof pricesSlider!=="undefined"){pricesSlider.noUiSlider.on("change",function(){loadResults()})}$(document).on("click",".filter .option",function(event){var optionCheckbox=$(this).find("input.checkbox");var wentToUrl=false;if($(event.target).is("a")){if(!isRootUrl){event.preventDefault()}else{wentToUrl=true}optionCheckbox.prop("checked",function(i,value){return!value})}if(!wentToUrl){loadResults()}});$(document).on("click",".sort .button",function(event){if($(this).hasClass("active")){$(this).removeClass("active");sort=""}else{$(".sort .button").removeClass("active");sort=$(this).data("value");$(this).addClass("active")}loadResults()});function loadResults(){var symbol="?";var redirectUrl=categoryRootUrl;brands=[];var i;$(".filter.brands .checkbox:checked").each(function(){var i=$(this).closest(".filter.brands").index();var categoryID=$(this).closest(".option").attr("data-id");brands.push(categoryID)});if(brands.length>0){var brandParamters=brands.join(",");redirectUrl+=symbol+"brands="+brandParamters;symbol="&"}specs=[];var i;$(".filter.specs .checkbox:checked").each(function(){var i=$(this).closest(".filter.specs").index();var specID=$(this).closest(".option").attr("data-id");if(typeof specs[i]==="undefined"){specs[i]=[]}specs[i].push(specID)});if(specs.length>0){for(var i in specs){if($.isArray(specs[i])){specs[i].join(",")}}var specParamteres=$.grep(specs,Boolean).join(";");redirectUrl+=symbol+"specs="+specParamteres;symbol="&"}var range=pricesSlider.noUiSlider.get();var newMinPrice=parseInt(range[0].replace(" "+currency,""));var newMaxPrice=parseInt(range[1].replace(" "+currency,""));if(newMinPrice!=minPossiblePrice||newMaxPrice!=maxPossiblePrice){redirectUrl+=symbol+"minPrice="+newMinPrice+"&maxPrice="+newMaxPrice;symbol="&"}if(sort!=""){redirectUrl+=symbol+"sort="+sort;symbol="&"}window.location.href=redirectUrl}});if(deviceIsMobile){var headerHeight=document.getElementById("header").offsetHeight;$(document).on("click",".archive-select",function(event){var type=$(this).attr("data-type");var top=$(".filter."+type).offset().top-headerHeight-10;document.body.scrollTop=top;document.documentElement.scrollTop=top});window.onscroll=function(){scrollFunction()};function scrollFunction(){var sidebarTop=document.getElementById("sidebar").offsetTop-screen.height+headerHeight;if(sidebarTop>screen.height&&(document.body.scrollTop>sidebarTop||document.documentElement.scrollTop>sidebarTop)){document.getElementById("to-products").style.display="block"}else{document.getElementById("to-products").style.display="none"}}function topFunction(){document.body.scrollTop=0;document.documentElement.scrollTop=0}}}if(isQiymetleriDirectory){function tagcloud(dom){var highVal=0;var lowVal=Number.MAX_VALUE;var elements=dom.getElementsByTagName("li");var minFont=parseInt(dom.getAttribute("data-minfont"),10);var maxFont=parseInt(dom.getAttribute("data-maxfont"),10);var fontDif=0;var sizeDif=0;var size=0;var i=0;var data=0;for(i=0;i<elements.length;++i){data=parseInt(countSpanFromParent(elements[i]).getAttribute("data-count"),10);if(data>highVal){highVal=data}if(data<lowVal){lowVal=data}}fontDif=maxFont-minFont;sizeDif=highVal-lowVal;for(i=0;i<elements.length;++i){data=parseInt(countSpanFromParent(elements[i]).getAttribute("data-count"),10);size=fontDif*(data-lowVal)/sizeDif+minFont;size=Math.round(size);elements[i].style.fontSize=size+"px"}}function countSpanFromParent(el){var child_el;for(var i=0;i<el.childNodes.length;i++){if(el.childNodes[i].className=="count"){child_el=el.childNodes[i];break}}return child_el}var children=document.querySelectorAll(".brands .children");Array.prototype.forEach.call(children,function(elements,index){tagcloud(elements)})}